schema {
  query: QueryRoot
  mutation: MutationRoot
}

input CreateGroupDto {
  name: String!
  private: Boolean!
  slug: String!
}

input CreateUserDto {
  externalId: String!
  name: String!
}

type Group {
  id: String!
  name: String!
  private: Boolean!
  slug: String!
  users: [User!]!
}

type MutationRoot {
  createGroup(dto: CreateGroupDto!): Group!
  createUser(dto: CreateUserDto!): User!
  createUserIfNotExists(dto: CreateUserDto!): User!
}

type QueryRoot {
  findGroupById(id: String!): Group!
  findUserGroups: [Group!]!
  getCurrentUser: User!
  getUserByExternalId(externalId: String!): User!
}

type User {
  externalId: String!
  groups: [Group!]!
  id: String!
  name: String!
}
